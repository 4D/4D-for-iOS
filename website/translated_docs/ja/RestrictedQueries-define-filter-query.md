---
id: define-filter-query
title: クエリフィルターを設定する
---

はじめに，素材プロジェクトをそのままビルドして実行してみましょう。ログイン画面には，営業担当者のメールアドレス "michelle.simpson@mail.com" を入力します。**営業担当者全員の商談がステータスに関係なく**（*済*と*進行中*の両方が）表示されることに注目してください。

![クエリフィルターが設定されていないアプリ](assets/en/restricted-queries/ios-app-without-queries.png)

前述したように，モバイルアプリにメールアドレスでログインすれば，自分が担当している商談でステータスが*進行中*のものだけをチェックできるよう，表示データにフィルターをかけたいと考えています。 下記の要領で実現することができます。

* 「**データ**」セクションに移動します。
* **クエリをフィルター**フィールドをクリックします。 **フィールド・比較演算子・演算子ボタン**が表示されるはずです。
* **フィールド**ボタンをクリックし，**Status**フィールドを選択します。
* **比較演算子**ボタンをクリックし，**等しい**を選択します。
* *進行中*の商談を表示したいので，**&apos;In progress&apos;**と入力します。
* **検証**ボタンをクリックし，フィルターを確定してください。これを忘れてしまうと，アプリがビルドできません。

下図のようになっていることを確認してください。

![CRM（顧客管理）データベース](assets/en/restricted-queries/filterquery.png)<div class = "tips"> 

**注記**

* クエリフィルターが設定されているテーブルの横には**フィルター（漏斗）**のアイコンが表示されます。
* 今回のような単純なフィルターの場合，「**ビルドされたアプリにデータを埋め込み**」チェックボックスをクリックすることにより，アプリにデータを埋め込むか，それともログイン後にロードさせるか，選ぶことができます。
* ビルドを実行すると，計算された**データサイズ**が画面上で確認できるようになります。</div> 

アプリをビルドして実行しましょう。メールアドレス "michelle.simpson@mail.com" を入力してログインすると，今度は*進行中*の商談がすべてシミュレーターに表示されます！

![単純なクエリフィルターが設定されているアプリ](assets/en/restricted-queries/restrited-queries-basic-query.png)

残念！ ここで実現したかったのは，ログインしたユーザーが担当している*進行中*の商談を表示することでした。クエリフィルターにもう少し条件を加えることが必要です。